# CloudPics - Backend Integration Quick Reference

## Key Classes & IDs for Backend Integration

### Authentication Page (`auth.html`/ `auth.js`)

#### **Form Elements**

```javascript
// Login Form
#loginForm                    // Main login form
#loginEmail                   // Email input
#loginPassword               // Password input
#rememberMe                  // Remember me checkbox

// Signup Form  
#signupForm                  // Main signup form
#firstName, #lastName        // Name inputs
#signupEmail                 // Email input
#signupPassword              // Password input
#confirmPassword             // Confirm password input
#agreeTerms                  // Terms checkbox
```

#### **Key Functions to Replace**

```javascript
handleLogin(e)               // Replace with your login API call
handleSignup(e)              // Replace with your signup API call
signInWithGoogle()           // Replace with Google OAuth redirect
signUpWithGoogle()           // Replace with Google OAuth redirect
```

#### **Where to Add Backend Data**

```javascript
// Pass server data to frontend
window.authConfig = {
    googleClientId: 'YOUR_GOOGLE_CLIENT_ID',
    csrfToken: 'YOUR_CSRF_TOKEN'
};
```

---

### Ô∏è Main Application (`index.html`/ `script.js`)

#### **Upload Section**

```javascript
#uploadArea                  // Drag & drop area
#fileInput                   // Hidden file input
#previewSection              // Upload preview container
#previewGrid                 // Preview images grid
.upload-btn                  // Upload button
```

#### **Gallery Section**

```javascript
#galleryGrid                 // Main images container
.gallery-item                // Individual image cards
.image-name                  // Image filename display
.image-details               // Image size & date
.overlay-btn                 // Download/Share/Delete buttons
```

#### **Navigation**

```javascript
.search-input                // Search bar
.sort-select                 // Sort dropdown
#profileDropdown             // User menu
.dropdown-name               // User name display
.dropdown-email              // User email display
```

#### **Key Functions to Replace**

```javascript
uploadImages()               // Replace with file upload API
deleteImage(imageId)         // Replace with delete API call
downloadImage(imageId)       // Replace with download logic
handleSearch(e)              // Connect to search API
fetchImagesFromServer()      // Load user images
```

---

## Quick Backend Integration Points

### **1. User Authentication**

```javascript
// In auth.js - Replace these API calls:
fetch('/api/auth/login', { method: 'POST', body: loginData })
fetch('/api/auth/signup', { method: 'POST', body: signupData })
```

### **2. Image Upload**

```javascript
// In script.js - Replace this API call:
fetch('/api/images/upload', { method: 'POST', body: formData })
```

### **3. Image Management**

```javascript
// In script.js - Replace these API calls:
fetch('/api/images')                    // Get user images
fetch(`/api/images/${imageId}`, { method: 'DELETE' })  // Delete image
```

### **4. User Data Display**

```javascript
// Pass user data from EJS to JavaScript:
window.userData = {
    name: '<%= user.name %>',
    email: '<%= user.email %>',
    images: <%- JSON.stringify(images) %>
};
```

---

## EJS Template Variables Needed

### **Authentication Page**

```plaintext
<%= pageTitle %>             // "Sign In" or "Sign Up"
<%= googleClientId %>        // Google OAuth client ID
<%= csrfToken %>            // CSRF protection token
<%= error %>                // Error messages
<%= success %>              // Success messages
```

### **Main Dashboard**

```plaintext
<%= user.name %>            // User's full name
<%= user.email %>           // User's email
<%= user.avatar %>          // Profile image URL
<%- JSON.stringify(images) %> // User's images array
<%= csrfToken %>            // CSRF token for forms
```

---

## Ô∏è File Structure for Backend

```plaintext
routes/
‚îú‚îÄ‚îÄ auth.js          // Login, signup, Google OAuth
‚îú‚îÄ‚îÄ images.js        // Upload, delete, fetch images
‚îî‚îÄ‚îÄ pages.js         // Render EJS templates

models/
‚îú‚îÄ‚îÄ User.js          // User schema
‚îî‚îÄ‚îÄ Image.js         // Image schema

middleware/
‚îî‚îÄ‚îÄ auth.js          // Check if user is logged in

views/
‚îú‚îÄ‚îÄ auth.ejs         // Convert auth.html to this
‚îî‚îÄ‚îÄ index.ejs        // Convert index.html to this
```

---

## Quick Setup Checklist

1. **Convert HTML to EJS**: Move `auth.html` ‚Üí `views/auth.ejs`, `index.html` ‚Üí `views/index.ejs`
2. **Move Assets**: `styles.css`, `auth.css` ‚Üí `public/css/`, `script.js`, `auth.js` ‚Üí `public/js/`
3. **Replace API Calls**: Search for `fetch(` in JavaScript files and replace with your endpoints
4. **Add User Data**: Pass user info from backend to frontend via EJS variables
5. **Setup Google OAuth**: Use the Google client ID in the frontend auth buttons


That's it! Focus on these key elements and you'll have the backend integrated quickly. üöÄ